---
import BaseLayout from "../layouts/base-layout.astro";
---

<BaseLayout title="Book a meeting with Zade Viggers">
	<h1>Book a meeting with Zade Viggers</h1>
	<p>
		Zade is very busy and important, but he very generously makes time to talk
		to the common people. Please follow the instructions below to make a
		booking.
	</p>
	<p>
		Please press the button labeled "<strong>Make a booking</strong>" to make a
		booking.
	</p>
	<noscript
		>Please note that the booking system will not work becuase JavaScript is
		either disabled in your web browser, or not supported by your browser.
	</noscript>
	<button class="button" id="fancy-button">Make a booking</button>
	
	<div id="container" style="display: none;">
		<iframe
			id="booking-vid"
			width="100%"
			height="100%"
			allowfullscreen
			allow="autoplay">
		</iframe>
		<div id="overlay"></div>
	</div>
	
</BaseLayout>

<script>
	const fancyButton = document.getElementById("fancy-button")!;
	const container = document.getElementById("container")!;
	const vid = document.getElementById("booking-vid")!;
	fancyButton.addEventListener("click", () => {
		container.style.display = "block";
		vid.setAttribute(
			"src",
			"https://www.youtube.com/embed/dQw4w9WgXcQ?controls=0&autoplay=1&disablekb=1&loop=1&modestbranding=1",
		);
		document.documentElement.scrollTo({ top: vid.getBoundingClientRect().y });
		document.documentElement.requestFullscreen();
	});
</script>

<style>
	#container {
		position: fixed;
		z-index: 100;
	}
	#overlay {
		z-index: 69420;
		position: fixed;
		background-color: rgba(0,0,0,0.0000001);
	}
	#container,#booking-vid,#overlay {
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		margin: 0;
	}
</style>
